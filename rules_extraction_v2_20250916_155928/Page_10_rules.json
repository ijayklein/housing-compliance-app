{
  "file_path": "/Users/jayklein/Documents/rulestracking/cityrules/markdown_pages/Page_10.md",
  "file_name": "Page_10.md",
  "analysis": {
    "extracted_rules": {
      "regulations": [
        {
          "rule_name": "Lot Coverage",
          "Qualifiers": {
            "scope": "Describes how much of a lot is covered by structures, without evaluating the mass of those structures.",
            "applicability": "Applies to all structures on a lot.",
            "exclusions": [
              {
                "item": "Roof overhangs",
                "condition": "Up to 4 feet."
              },
              {
                "item": "Uncovered structures",
                "condition": "Less than 30 inches above grade."
              }
            ]
          },
          "Variables": [
            {
              "name": "lot_size",
              "type": "dimensional",
              "unit": "square feet (sf)"
            },
            {
              "name": "total_lot_coverage_area",
              "type": "dimensional",
              "unit": "square feet (sf)"
            },
            {
              "name": "decking_height",
              "type": "dimensional",
              "unit": "inches"
            },
            {
              "name": "roof_overhang_depth",
              "type": "dimensional",
              "unit": "feet"
            },
            {
              "name": "pool_spa_height",
              "type": "dimensional",
              "unit": "inches"
            },
            {
              "name": "porch_deck_railing_type",
              "type": "material",
              "values": [
                "open railings",
                "solid half walls"
              ]
            }
          ],
          "Constants": [
            {
              "name": "Maximum Allowable Lot Coverage Ratio",
              "value": 0.35,
              "type": "ratio"
            },
            {
              "name": "Decking Height Threshold",
              "value": 30,
              "unit": "inches",
              "type": "dimensional_threshold"
            },
            {
              "name": "Roof Overhang Exclusion Limit",
              "value": 4,
              "unit": "feet",
              "type": "dimensional_threshold"
            },
            {
              "name": "Pool/Spa Height Threshold",
              "value": 30,
              "unit": "inches",
              "type": "dimensional_threshold"
            },
            {
              "name": "Uncovered Structure Height Threshold",
              "value": 30,
              "unit": "inches",
              "type": "dimensional_threshold"
            },
            {
              "name": "Additional Coverage Percentage",
              "value": 0.05,
              "type": "ratio"
            }
          ],
          "Conditions": [
            {
              "type": "mandatory",
              "description": "Total lot coverage must not exceed the calculated maximum allowable lot coverage.",
              "logic": "total_lot_coverage_area <= (lot_size * 0.35)"
            },
            {
              "type": "conditional",
              "description": "Decking area is included in lot coverage if its height exceeds the threshold.",
              "logic": "IF decking_height > 30 inches THEN INCLUDE decking_area IN total_lot_coverage_area"
            },
            {
              "type": "conditional",
              "description": "The portion of a roof overhang beyond the exclusion limit is included in lot coverage.",
              "logic": "IF roof_overhang_depth > 4 feet THEN INCLUDE (area_of_overhang - area_of_first_4_feet) IN total_lot_coverage_area"
            },
            {
              "type": "conditional",
              "description": "Swimming pools and spas are included in lot coverage if their height exceeds the threshold.",
              "logic": "IF pool_spa_height > 30 inches THEN INCLUDE pool_spa_area IN total_lot_coverage_area"
            },
            {
              "type": "conditional",
              "description": "A porch or deck qualifies as 'uncovered' only if it has open railings above 30 inches.",
              "logic": "IF porch_deck_height < 30 inches AND porch_deck_railing_type != 'solid half walls' THEN EXCLUDE porch_deck_area FROM total_lot_coverage_area"
            }
          ],
          "Exceptions": [
            {
              "type": "alternative_allowance",
              "description": "An additional 5% coverage is permitted for specific structure types.",
              "applicability": "Covered patios, canopies, and roof overhangs beyond 4 feet.",
              "value": "0.05 * lot_size"
            }
          ],
          "Relationships": {
            "hierarchical": {
              "parent": "Development on a lot",
              "children": [
                "Maximum Allowable Calculation",
                "Lot Coverage Inclusions",
                "Lot Coverage Exclusions",
                "Additional Coverage Exception"
              ]
            },
            "cross_references": [
              {
                "document": "Code Sections",
                "reference": "18.12.040 (a) Table 2"
              },
              {
                "document": "Code Sections",
                "reference": "18.12.040 (b) Table 3"
              },
              {
                "document": "Code Sections",
                "reference": "18.04.030 (a) (86)"
              },
              {
                "document": "This Book",
                "reference": "Page 4\u20135"
              }
            ],
            "logical_dependencies": [
              "The calculation of 'allowable_lot_coverage' is dependent on the 'lot_size' variable.",
              "The 'Additional Coverage' exception is dependent on the presence and area of specific structure types."
            ],
            "ambiguous_language": [
              {
                "term": "etc.",
                "context": "Lot coverage includes: ...projecting elements such as balconies, stairways, porches, patio covers, etc.",
                "reason": "Non-exhaustive list, requires clarification for automated validation."
              }
            ]
          }
        },
        {
          "rule_name": "Gross Floor Area",
          "Qualifiers": {
            "scope": "Describes the mass of structures by reflecting the cumulative square footage of all visible levels.",
            "applicability": "Applies to all structures on a lot, measuring total floor area.",
            "exclusions": [
              {
                "item": "Accessory buildings",
                "condition": "Area is 120 square feet or less."
              }
            ]
          },
          "Variables": [
            {
              "name": "lot_area",
              "type": "dimensional",
              "unit": "square feet (sf)"
            },
            {
              "name": "total_gross_floor_area",
              "type": "dimensional",
              "unit": "square feet (sf)"
            },
            {
              "name": "accessory_building_area",
              "type": "dimensional",
              "unit": "square feet (sf)"
            },
            {
              "name": "enclosure_percentage",
              "type": "dimensional",
              "unit": "percent"
            },
            {
              "name": "main_house_gfa",
              "type": "dimensional",
              "unit": "square feet (sf)"
            }
          ],
          "Constants": [
            {
              "name": "GFA Ratio Tier 1",
              "value": 0.45,
              "type": "ratio",
              "applicability": "First 5,000 sf of lot area"
            },
            {
              "name": "GFA Ratio Tier 2",
              "value": 0.3,
              "type": "ratio",
              "applicability": "Portion of lot area in excess of 5,000 sf"
            },
            {
              "name": "Lot Area Tier Threshold",
              "value": 5000,
              "unit": "square feet (sf)",
              "type": "dimensional_threshold"
            },
            {
              "name": "Accessory Building Inclusion Threshold",
              "value": 120,
              "unit": "square feet (sf)",
              "type": "dimensional_threshold"
            },
            {
              "name": "Enclosure Inclusion Threshold",
              "value": 50,
              "unit": "percent",
              "type": "dimensional_threshold"
            },
            {
              "name": "Main House GFA Absolute Maximum",
              "value": 6000,
              "unit": "square feet (sf)",
              "type": "dimensional_cap"
            }
          ],
          "Conditions": [
            {
              "type": "mandatory",
              "description": "Total gross floor area must not exceed the calculated maximum allowable GFA.",
              "logic": "total_gross_floor_area <= allowable_gross_floor_area"
            },
            {
              "type": "mandatory",
              "description": "The main house GFA may not exceed the absolute maximum, regardless of lot size.",
              "logic": "main_house_gfa <= 6000"
            },
            {
              "type": "conditional",
              "description": "Tiered calculation for allowable GFA based on lot area.",
              "logic": "IF lot_area <= 5000 THEN allowable_gfa = 0.45 * lot_area; ELSE allowable_gfa = (0.45 * 5000) + (0.30 * (lot_area - 5000))"
            },
            {
              "type": "conditional",
              "description": "Accessory building area is included in GFA if its area exceeds the threshold.",
              "logic": "IF accessory_building_area > 120 THEN INCLUDE accessory_building_area IN total_gross_floor_area"
            },
            {
              "type": "conditional",
              "description": "An area is included in GFA if it is covered and its enclosure percentage exceeds the threshold.",
              "logic": "IF is_covered AND enclosure_percentage > 50 THEN INCLUDE area IN total_gross_floor_area"
            }
          ],
          "Exceptions": [
            {
              "type": "overriding_condition",
              "description": "An absolute maximum GFA is placed on the main house, which can be more restrictive than the calculated allowable GFA for very large lots.",
              "value": "6,000 sf",
              "applicability": "Main house"
            }
          ],
          "Relationships": {
            "hierarchical": {
              "parent": "Development on a lot",
              "children": [
                "Maximum Allowable Calculation (Tiered)",
                "Gross Floor Area Inclusions",
                "Absolute Maximum GFA for Main House"
              ]
            },
            "cross_references": [
              {
                "document": "Code Sections",
                "reference": "18.12.040 (a) Table 2"
              },
              {
                "document": "Code Sections",
                "reference": "18.12.040 (b) Table 3"
              },
              {
                "document": "Code Sections",
                "reference": "18.04.030 (a) (86)"
              },
              {
                "document": "This Book",
                "reference": "Page 4\u20135"
              }
            ],
            "logical_dependencies": [
              "The calculation of 'allowable_gross_floor_area' is dependent on the 'lot_area' variable and follows a tiered formula.",
              "The 6,000 sf cap on the main house is an independent constraint that can override the general GFA allowance."
            ],
            "ambiguous_language": [
              {
                "term": "second and third floor equivalents",
                "context": "Gross floor area includes: ...spaces that meet the criteria for second and third floor equivalents.",
                "reason": "The criteria are not defined in the provided text, requiring reference to another document or definition."
              },
              {
                "term": "50% enclosed",
                "context": "all areas that are greater than 50% enclosed and covered.",
                "reason": "The method for calculating the percentage of enclosure (e.g., by perimeter length, surface area) is not specified."
              }
            ]
          }
        }
      ]
    },
    "parse_error": false,
    "raw_response": "```json\n{\n  \"regulations\": [\n    {\n      \"rule_name\": \"Lot Coverage\",\n      \"Qualifiers\": {\n        \"scope\": \"Describes how much of a lot is covered by structures, without evaluating the mass of those structures.\",\n        \"applicability\": \"Applies to all structures on a lot.\",\n        \"exclusions\": [\n          {\n            \"item\": \"Roof overhangs\",\n            \"condition\": \"Up to 4 feet.\"\n          },\n          {\n            \"item\": \"Uncovered structures\",\n            \"condition\": \"Less than 30 inches above grade.\"\n          }\n        ]\n      },\n      \"Variables\": [\n        {\n          \"name\": \"lot_size\",\n          \"type\": \"dimensional\",\n          \"unit\": \"square feet (sf)\"\n        },\n        {\n          \"name\": \"total_lot_coverage_area\",\n          \"type\": \"dimensional\",\n          \"unit\": \"square feet (sf)\"\n        },\n        {\n          \"name\": \"decking_height\",\n          \"type\": \"dimensional\",\n          \"unit\": \"inches\"\n        },\n        {\n          \"name\": \"roof_overhang_depth\",\n          \"type\": \"dimensional\",\n          \"unit\": \"feet\"\n        },\n        {\n          \"name\": \"pool_spa_height\",\n          \"type\": \"dimensional\",\n          \"unit\": \"inches\"\n        },\n        {\n          \"name\": \"porch_deck_railing_type\",\n          \"type\": \"material\",\n          \"values\": [\"open railings\", \"solid half walls\"]\n        }\n      ],\n      \"Constants\": [\n        {\n          \"name\": \"Maximum Allowable Lot Coverage Ratio\",\n          \"value\": 0.35,\n          \"type\": \"ratio\"\n        },\n        {\n          \"name\": \"Decking Height Threshold\",\n          \"value\": 30,\n          \"unit\": \"inches\",\n          \"type\": \"dimensional_threshold\"\n        },\n        {\n          \"name\": \"Roof Overhang Exclusion Limit\",\n          \"value\": 4,\n          \"unit\": \"feet\",\n          \"type\": \"dimensional_threshold\"\n        },\n        {\n          \"name\": \"Pool/Spa Height Threshold\",\n          \"value\": 30,\n          \"unit\": \"inches\",\n          \"type\": \"dimensional_threshold\"\n        },\n        {\n          \"name\": \"Uncovered Structure Height Threshold\",\n          \"value\": 30,\n          \"unit\": \"inches\",\n          \"type\": \"dimensional_threshold\"\n        },\n        {\n          \"name\": \"Additional Coverage Percentage\",\n          \"value\": 0.05,\n          \"type\": \"ratio\"\n        }\n      ],\n      \"Conditions\": [\n        {\n          \"type\": \"mandatory\",\n          \"description\": \"Total lot coverage must not exceed the calculated maximum allowable lot coverage.\",\n          \"logic\": \"total_lot_coverage_area <= (lot_size * 0.35)\"\n        },\n        {\n          \"type\": \"conditional\",\n          \"description\": \"Decking area is included in lot coverage if its height exceeds the threshold.\",\n          \"logic\": \"IF decking_height > 30 inches THEN INCLUDE decking_area IN total_lot_coverage_area\"\n        },\n        {\n          \"type\": \"conditional\",\n          \"description\": \"The portion of a roof overhang beyond the exclusion limit is included in lot coverage.\",\n          \"logic\": \"IF roof_overhang_depth > 4 feet THEN INCLUDE (area_of_overhang - area_of_first_4_feet) IN total_lot_coverage_area\"\n        },\n        {\n          \"type\": \"conditional\",\n          \"description\": \"Swimming pools and spas are included in lot coverage if their height exceeds the threshold.\",\n          \"logic\": \"IF pool_spa_height > 30 inches THEN INCLUDE pool_spa_area IN total_lot_coverage_area\"\n        },\n        {\n          \"type\": \"conditional\",\n          \"description\": \"A porch or deck qualifies as 'uncovered' only if it has open railings above 30 inches.\",\n          \"logic\": \"IF porch_deck_height < 30 inches AND porch_deck_railing_type != 'solid half walls' THEN EXCLUDE porch_deck_area FROM total_lot_coverage_area\"\n        }\n      ],\n      \"Exceptions\": [\n        {\n          \"type\": \"alternative_allowance\",\n          \"description\": \"An additional 5% coverage is permitted for specific structure types.\",\n          \"applicability\": \"Covered patios, canopies, and roof overhangs beyond 4 feet.\",\n          \"value\": \"0.05 * lot_size\"\n        }\n      ],\n      \"Relationships\": {\n        \"hierarchical\": {\n          \"parent\": \"Development on a lot\",\n          \"children\": [\n            \"Maximum Allowable Calculation\",\n            \"Lot Coverage Inclusions\",\n            \"Lot Coverage Exclusions\",\n            \"Additional Coverage Exception\"\n          ]\n        },\n        \"cross_references\": [\n          {\n            \"document\": \"Code Sections\",\n            \"reference\": \"18.12.040 (a) Table 2\"\n          },\n          {\n            \"document\": \"Code Sections\",\n            \"reference\": \"18.12.040 (b) Table 3\"\n          },\n          {\n            \"document\": \"Code Sections\",\n            \"reference\": \"18.04.030 (a) (86)\"\n          },\n          {\n            \"document\": \"This Book\",\n            \"reference\": \"Page 4\u20135\"\n          }\n        ],\n        \"logical_dependencies\": [\n          \"The calculation of 'allowable_lot_coverage' is dependent on the 'lot_size' variable.\",\n          \"The 'Additional Coverage' exception is dependent on the presence and area of specific structure types.\"\n        ],\n        \"ambiguous_language\": [\n          {\n            \"term\": \"etc.\",\n            \"context\": \"Lot coverage includes: ...projecting elements such as balconies, stairways, porches, patio covers, etc.\",\n            \"reason\": \"Non-exhaustive list, requires clarification for automated validation.\"\n          }\n        ]\n      }\n    },\n    {\n      \"rule_name\": \"Gross Floor Area\",\n      \"Qualifiers\": {\n        \"scope\": \"Describes the mass of structures by reflecting the cumulative square footage of all visible levels.\",\n        \"applicability\": \"Applies to all structures on a lot, measuring total floor area.\",\n        \"exclusions\": [\n          {\n            \"item\": \"Accessory buildings\",\n            \"condition\": \"Area is 120 square feet or less.\"\n          }\n        ]\n      },\n      \"Variables\": [\n        {\n          \"name\": \"lot_area\",\n          \"type\": \"dimensional\",\n          \"unit\": \"square feet (sf)\"\n        },\n        {\n          \"name\": \"total_gross_floor_area\",\n          \"type\": \"dimensional\",\n          \"unit\": \"square feet (sf)\"\n        },\n        {\n          \"name\": \"accessory_building_area\",\n          \"type\": \"dimensional\",\n          \"unit\": \"square feet (sf)\"\n        },\n        {\n          \"name\": \"enclosure_percentage\",\n          \"type\": \"dimensional\",\n          \"unit\": \"percent\"\n        },\n        {\n          \"name\": \"main_house_gfa\",\n          \"type\": \"dimensional\",\n          \"unit\": \"square feet (sf)\"\n        }\n      ],\n      \"Constants\": [\n        {\n          \"name\": \"GFA Ratio Tier 1\",\n          \"value\": 0.45,\n          \"type\": \"ratio\",\n          \"applicability\": \"First 5,000 sf of lot area\"\n        },\n        {\n          \"name\": \"GFA Ratio Tier 2\",\n          \"value\": 0.30,\n          \"type\": \"ratio\",\n          \"applicability\": \"Portion of lot area in excess of 5,000 sf\"\n        },\n        {\n          \"name\": \"Lot Area Tier Threshold\",\n          \"value\": 5000,\n          \"unit\": \"square feet (sf)\",\n          \"type\": \"dimensional_threshold\"\n        },\n        {\n          \"name\": \"Accessory Building Inclusion Threshold\",\n          \"value\": 120,\n          \"unit\": \"square feet (sf)\",\n          \"type\": \"dimensional_threshold\"\n        },\n        {\n          \"name\": \"Enclosure Inclusion Threshold\",\n          \"value\": 50,\n          \"unit\": \"percent\",\n          \"type\": \"dimensional_threshold\"\n        },\n        {\n          \"name\": \"Main House GFA Absolute Maximum\",\n          \"value\": 6000,\n          \"unit\": \"square feet (sf)\",\n          \"type\": \"dimensional_cap\"\n        }\n      ],\n      \"Conditions\": [\n        {\n          \"type\": \"mandatory\",\n          \"description\": \"Total gross floor area must not exceed the calculated maximum allowable GFA.\",\n          \"logic\": \"total_gross_floor_area <= allowable_gross_floor_area\"\n        },\n        {\n          \"type\": \"mandatory\",\n          \"description\": \"The main house GFA may not exceed the absolute maximum, regardless of lot size.\",\n          \"logic\": \"main_house_gfa <= 6000\"\n        },\n        {\n          \"type\": \"conditional\",\n          \"description\": \"Tiered calculation for allowable GFA based on lot area.\",\n          \"logic\": \"IF lot_area <= 5000 THEN allowable_gfa = 0.45 * lot_area; ELSE allowable_gfa = (0.45 * 5000) + (0.30 * (lot_area - 5000))\"\n        },\n        {\n          \"type\": \"conditional\",\n          \"description\": \"Accessory building area is included in GFA if its area exceeds the threshold.\",\n          \"logic\": \"IF accessory_building_area > 120 THEN INCLUDE accessory_building_area IN total_gross_floor_area\"\n        },\n        {\n          \"type\": \"conditional\",\n          \"description\": \"An area is included in GFA if it is covered and its enclosure percentage exceeds the threshold.\",\n          \"logic\": \"IF is_covered AND enclosure_percentage > 50 THEN INCLUDE area IN total_gross_floor_area\"\n        }\n      ],\n      \"Exceptions\": [\n        {\n          \"type\": \"overriding_condition\",\n          \"description\": \"An absolute maximum GFA is placed on the main house, which can be more restrictive than the calculated allowable GFA for very large lots.\",\n          \"value\": \"6,000 sf\",\n          \"applicability\": \"Main house\"\n        }\n      ],\n      \"Relationships\": {\n        \"hierarchical\": {\n          \"parent\": \"Development on a lot\",\n          \"children\": [\n            \"Maximum Allowable Calculation (Tiered)\",\n            \"Gross Floor Area Inclusions\",\n            \"Absolute Maximum GFA for Main House\"\n          ]\n        },\n        \"cross_references\": [\n          {\n            \"document\": \"Code Sections\",\n            \"reference\": \"18.12.040 (a) Table 2\"\n          },\n          {\n            \"document\": \"Code Sections\",\n            \"reference\": \"18.12.040 (b) Table 3\"\n          },\n          {\n            \"document\": \"Code Sections\",\n            \"reference\": \"18.04.030 (a) (86)\"\n          },\n          {\n            \"document\": \"This Book\",\n            \"reference\": \"Page 4\u20135\"\n          }\n        ],\n        \"logical_dependencies\": [\n          \"The calculation of 'allowable_gross_floor_area' is dependent on the 'lot_area' variable and follows a tiered formula.\",\n          \"The 6,000 sf cap on the main house is an independent constraint that can override the general GFA allowance.\"\n        ],\n        \"ambiguous_language\": [\n          {\n            \"term\": \"second and third floor equivalents\",\n            \"context\": \"Gross floor area includes: ...spaces that meet the criteria for second and third floor equivalents.\",\n            \"reason\": \"The criteria are not defined in the provided text, requiring reference to another document or definition.\"\n          },\n          {\n            \"term\": \"50% enclosed\",\n            \"context\": \"all areas that are greater than 50% enclosed and covered.\",\n            \"reason\": \"The method for calculating the percentage of enclosure (e.g., by perimeter length, surface area) is not specified.\"\n          }\n        ]\n      }\n    }\n  ]\n}\n```",
    "response_time": 42.060919761657715,
    "input_tokens": 1059,
    "output_tokens": 5275,
    "attempt": 1
  },
  "timestamp": "2025-09-16 16:00:12",
  "model": "google/gemini-2.5-pro",
  "success": true
}